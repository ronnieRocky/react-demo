!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports["yonobi-digram"]=e(require("react"),require("react-dom")):t["yonobi-digram"]=e(t.React,t.ReactDOM)}(this,function(t,e){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";t.exports=n(9)["default"]},function(e,n){e.exports=t},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(1),u=o(s),l=function(t){function e(){return r(this,e),a(this,t.apply(this,arguments))}return i(e,t),e.prototype.render=function(){return u["default"].createElement("g",{className:"visual-rect"},u["default"].createElement("rect",this.props))},e}(u["default"].Component);e["default"]=l},function(t,e){"use strict";e.__esModule=!0;var n=function(t,e,n,o){return{id:t,type:e,locale:"",x:n,y:o,h:50,w:50,link:[],connect:[],fill:"white",stroke:"green",mx:n,my:o}};e["default"]=n},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(1),u=o(s),l=function(t){function e(){return r(this,e),a(this,t.apply(this,arguments))}return i(e,t),e.prototype.render=function(){return u["default"].createElement("g",{className:"visual-line"},u["default"].createElement("line",this.props))},e}(u["default"].Component);e["default"]=l},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(1),u=o(s),l=function(t){function e(){return r(this,e),a(this,t.apply(this,arguments))}return i(e,t),e.prototype.render=function(){return u["default"].createElement("g",{className:"visual-path"},u["default"].createElement("path",this.props))},e}(u["default"].Component);e["default"]=l},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(1),u=o(s),l=n(2),c=o(l),f=n(3),p=(o(f),function(t){function e(n){r(this,e);var o=a(this,t.call(this,n));return o.handleclick=o.handleclick.bind(o),o}return i(e,t),e.prototype.handleclick=function(t){this.props.showTemplate(t.target.className.baseVal)},e.prototype.render=function(){var t=this.props.isShow,e=this.props,n=e.x,o=e.y;return u["default"].createElement("g",{className:"template"},t?u["default"].createElement(c["default"],{className:"rect",x:n,y:o,height:"15",width:"20",fill:"white",stroke:"black",onClick:this.handleclick}):null)},e}(u["default"].Component));e["default"]=p},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(1),u=o(s),l=n(2),c=o(l),f=n(4),p=(o(f),n(13)),d=o(p),h=n(6),y=(o(h),function(t){function e(n){r(this,e);var o=a(this,t.call(this,n));return o.onDragEnd=o.onDragEnd.bind(o),o.onClick=o.onClick.bind(o),o.onDrag=o.onDrag.bind(o),o}return i(e,t),e.prototype.onDragEnd=function(t,e){var n=e.lastX,o=e.lastY,r=t.target.x.baseVal.value,a=t.target.y.baseVal.value;this.props.onDragEnd(n+r+60,o+a),this.props.onDragging(t.target.id,n,o)},e.prototype.onClick=function(t){this.props.onClick(t.target.id)},e.prototype.onDrag=function(){this.props.onDrag(!1)},e.prototype.render=function(){var t=this.props.shape;return u["default"].createElement("g",null,u["default"].createElement(d["default"],{defaultPosition:{x:t.x,y:t.y},onStop:this.onDragEnd,onDrag:this.onDrag},u["default"].createElement("g",null,u["default"].createElement(c["default"],{id:t.id,x:t.x,y:t.y,height:t.h,width:t.w,fill:t.fill,stroke:t.stroke,onClick:this.onClick}))))},e}(u["default"].Component));e["default"]=y},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(1),u=o(s),l=n(2),c=(o(l),n(3)),f=(o(c),n(7)),p=o(f),d=n(4),h=(o(d),n(5)),y=(o(h),n(12)),g=n(11),m=n(6),b=o(m),v=void 0,w=function(t){function e(n){r(this,e);var o=a(this,t.call(this,n));return o.state={isShow:!1,totalContainer:[],moduleContainer:[],lineContainer:[],firstId:"",clickId:"",lastId:"",x:0,y:0},o.click=o.click.bind(o),o.onDrag=o.onDrag.bind(o),o.onDragging=o.onDragging.bind(o),o.onDragEnd=o.onDragEnd.bind(o),o.updateContainer=o.updateContainer.bind(o),o}return i(e,t),e.prototype.componentWillMount=function(){var t=[],e=[],n=(0,g.moduleFactory)("rect",100,30);n.locale="start",e.push(n),t.push(u["default"].createElement(p["default"],{shape:n,onDragEnd:this.onDragEnd,onDrag:this.onDrag,onDragging:this.onDragging,onClick:this.click})),this.setState({totalContainer:[].concat(t),moduleContainer:[].concat(e),firstId:n.id})},e.prototype.onDragging=function(t,e,n){var o=(0,y.draggingAndGetLineContainer)(t,e,n,this.state.moduleContainer);this.setState({lineContainer:[].concat(o)})},e.prototype.onDragEnd=function(t,e){this.setState({x:t,y:e})},e.prototype.onDrag=function(t){this.setState({isShow:t})},e.prototype.click=function(t){v===t?this.setState({isShow:!this.state.isShow,clickId:t}):this.setState({isShow:!0,clickId:t}),v=t},e.prototype.updateContainer=function(t){var e=this.state.totalContainer,n=this.state.moduleContainer,o=n[n.length-1];if(this.isTemplateShow(o)){var r=(0,g.moduleFactory)(t,o.mx,o.my+70),a=this.doModuleContainer(r,o,n);e.push(u["default"].createElement(p["default"],{shape:r,onDragEnd:this.onDragEnd,onDrag:this.onDrag,onDragging:this.onDragging,onClick:this.click})),this.onDragging(o.id,o.mx,o.my),this.setState({totalContainer:[].concat(e),moduleContainer:[].concat(a),isShow:!1,lastId:r.id})}},e.prototype.doModuleContainer=function(t,e,n){var o=e,r=t;return"start"!==o.locale&&(o.locale=""),r.locale="last",n.push(r),o.link.push(r),o.connect.push({key:r.id,value:[]}),r.link.push(o),r.connect.push({key:o.id,value:[]}),n},e.prototype.isTemplateShow=function(t){var e=this.state.firstId,n=this.state.clickId,o=this.state.lastId;return this.isTShow(e,n,o,t)},e.prototype.isTShow=function(t,e,n,o){var r=!0;return t===e?0!==o.link.length&&(r=!1):e!==n&&(r=!1),r},e.prototype.render=function(){return u["default"].createElement("g",{className:"MainGroup"},u["default"].createElement("g",{className:"ModuleGroup"},this.state.totalContainer.map(function(t){return t})),u["default"].createElement("g",{className:"lineGroup"},"this.state.lineContainer.length!==0?",this.state.lineContainer.map(function(t){return t}),": null;"),u["default"].createElement("g",{className:"Template"},u["default"].createElement(b["default"],{isShow:this.state.isShow,showTemplate:this.updateContainer,x:this.state.x,y:this.state.y})))},e}(u["default"].Component);e["default"]=w},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(1),u=o(s),l=n(8),c=o(l),f=n(5),p=(o(f),n(10)),d=o(p),h=function(t){function e(){return r(this,e),a(this,t.apply(this,arguments))}return i(e,t),e.prototype.render=function(){return u["default"].createElement("div",{className:"svg"},u["default"].createElement(d["default"],{width:"900",height:"900"},u["default"].createElement(c["default"],null)))},e}(u["default"].Component);e["default"]=h},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=n(1),u=o(s),l=n(2),c=(o(l),function(t){function e(n){r(this,e);var o=a(this,t.call(this,n));return o.state={matrix:[1,0,0,1,0,0],dragging:!1,scales:0},o.onWheel=o.onWheel.bind(o),o}return i(e,t),e.prototype.onWheel=function(t){t.preventDefault(),t.deltaY<0?this.zoom(1.05):this.zoom(.95)},e.prototype.zoom=function(t){for(var e=this.state.matrix,n=e.length,o=0;o<n;o++)e[o]*=t;e[4]+=(1-t)*this.props.width/2,e[5]+=(1-t)*this.props.height/2,this.setState({matrix:e,scales:t})},e.prototype.render=function(){var t=this.props,e=t.width,n=t.height;this.state.scales.scale;return u["default"].createElement("div",{onWheel:this.onWheel},u["default"].createElement("svg",{width:e,height:n},u["default"].createElement("g",{transform:"matrix("+this.state.matrix.join(" ")+")"},this.props.children)))},e}(u["default"].Component));e["default"]=c},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(){return Math.random().toString(36).slice(-6)}function a(t,e,n){var o=r(),a=new s["default"](o,t,e,n);return a}e.__esModule=!0,e.rendomId=r,e.moduleFactory=a;var i=n(3),s=o(i)},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){var n="";switch(e){case"top":n=t.top;break;case"buttom":n=t.buttom;break;case"left":n=t.left;break;case"right":n=t.right}return n}function a(t,e,n){var o=t+n/2,r=e,a={x:o,y:r},i=t+n/2,s=e+n,u={x:i,y:s},l=t,c=e+n/2,f={x:l,y:c},p=t+n,d=e+n/2,h={x:p,y:d};return{top:a,buttom:u,left:f,right:h}}function i(t,e,n){var o="";switch(n){case"buttom":o="M"+t+" "+e+"l5 -5 5 5z";break;case"top":o="M"+t+" "+e+"l5 5 5-5z";break;case"right":o="M"+t+" "+e+"l-5 5 5 5z";break;case"left":o="M"+t+" "+e+"l5 5 -5 5z"}return o}function s(t,e,n,o,r){var a={x:t,y:o};return"left"===r.sd&&"right"===r.td||"right"===r.sd&&"left"===r.td?a={x:n,y:o}:("left"!==r.sd&&"right"!==r.sd||(a.y=e),"top"!==r.sd&&"buttom"!==r.sd||(a.x=t),"left"!==r.td&&"right"!==r.td||(a.y=o),"top"!==r.td&&"buttom"!==r.td||(a.x=n)),a}function u(t,e,n,o,r,a,s){var u=[],l=i(r,a,s);return u.push(y["default"].createElement("line",{x1:t,y1:e,x2:n,y2:o,stroke:"green"})),u.push(y["default"].createElement(b["default"],{d:l})),u}function l(t,e,n,o,r,a,s,u,l){var c=[],f=i(s,u,l);return c.push(y["default"].createElement("line",{x1:t,y1:e,x2:r,y2:a,stroke:"green"})),c.push(y["default"].createElement("line",{x1:r,y1:a,x2:n,y2:o,stroke:"red"})),c.push(y["default"].createElement(b["default"],{d:f})),c}function c(t,e,n,o,r,a,i,s,c){var f=[],p=5;return f=1===i?a.x===n&&a.y===o?"start"===c?"top"===r.td||"left"===r.td?[].concat(u(t,e,a.x,a.y,a.x-p,a.y-p,r.td)):"buttom"===r.td?[].concat(u(t,e,a.x,a.y,a.x-p,a.y+p,r.td)):[].concat(u(t,e,a.x,a.y,a.x+p,a.y-p,r.td)):"top"===r.sd||"left"===r.sd?[].concat(u(t,e,a.x,a.y,t-p,e-p,r.sd)):"buttom"===r.sd?[].concat(u(t,e,a.x,a.y,t-p,e+p,r.sd)):[].concat(u(t,e,a.x,a.y,t+p,e-p,r.sd)):"start"===c?"left"===r.td?[].concat(l(t,e,n,o,a.x,a.y,n-p,o-p,r.td)):[].concat(l(t,e,n,o,a.x,a.y,n+p,o-p,r.td)):"top"===r.sd?[].concat(l(t,e,n,o,a.x,a.y,t-p,e-p,r.sd)):[].concat(l(t,e,n,o,a.x,a.y,t-p,e+p,r.sd)):0===s?"top"===r.sd||"left"===r.sd?[].concat(l(t,e,n,o,a.x,a.y,t-p,e-p,r.sd)):"buttom"===r.sd?[].concat(l(t,e,n,o,a.x,a.y,t-p,e+p,r.sd)):[].concat(l(t,e,n,o,a.x,a.y,t+p,e-p,r.sd)):"top"===r.td||"left"===r.td?[].concat(l(t,e,n,o,a.x,a.y,n-p,o-p,r.td)):"buttom"===r.td?[].concat(l(t,e,n,o,a.x,a.y,n-p,o+p,r.td)):[].concat(l(t,e,n,o,a.x,a.y,n+p,o-p,r.td))}function f(t,e){var n=t.x,o=t.y,r=e.x,a=e.y,i={sd:"buttom",td:"top"};return i=n===r?o>a?{sd:"top",td:"buttom"}:{sd:"buttom",td:"top"}:o===a?n>r?{sd:"left",td:"right"}:{sd:"right",td:"left"}:n-r>30?Math.abs(o-a)<35?{sd:"left",td:"right"}:o>a?{sd:"top",td:"right"}:{sd:"buttom",td:"right"}:n-r<-30?Math.abs(o-a)<35?{sd:"right",td:"left"}:o>a?{sd:"top",td:"left"}:{sd:"buttom",td:"left"}:o-a>0?{sd:"top",td:"buttom"}:{sd:"buttom",td:"top"},console.log("direct"),console.log(i),i}function p(t,e,n,o,i,u,l,f){var p=50,d=a(t,e,p),h=a(n,o,p),y=r(d,i.sd),g=r(h,i.td),m=s(y.x,y.y,g.x,g.y,i),b=c(y.x,y.y,g.x,g.y,i,m,u,l,f);return b}function d(t,e,n,o){var r=o;r.forEach(function(o){if(o.id===t){o.mx===e&&o.my===n||(o.mx=e,o.my=n);for(var r=o.link,a={x:o.mx+o.x,y:o.my+o.y},i=o.id,s=o.connect,u=function(t){var e=r[t].mx+r[t].x,n=r[t].my+r[t].y,u={x:e,y:n},l=r[t].id,c=f(a,u),d=p(a.x,a.y,u.x,u.y,c,r.length,t,o.locale),h={};h.key=i,h.value=d;var y={};y.key=l,y.value=d;var g=r[t].connect;g.filter(function(t){return t.key===h.key}).forEach(function(t){t.value.length=0,t.value=[].concat(h.value)}),r[t].connect=g,s.filter(function(t){return t.key===y.key}).forEach(function(t){t.value.length=0,t.value=[].concat(y.value)}),o.connect=s},l=0;l<r.length;l++)u(l)}});var a=[];return r.forEach(function(t){return t.connect.map(function(t){return a=[].concat(a,t.value)})}),a}e.__esModule=!0,e.onDirectMath=r,e.onTBLR=a,e.onPathTBLR=i,e.onMiddleMath=s,e.onLineMath=c,e.onDirect=f,e.getTempcom=p,e.draggingAndGetLineContainer=d;var h=n(1),y=o(h),g=n(4),m=(o(g),n(5)),b=o(m)},function(t,e,n){!function(e,o){t.exports=o(n(1),n(14))}(this,function(t,e){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";t.exports=n(1)["default"],t.exports.DraggableCore=n(9)["default"]},function(t,e,n){(function(t){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},l=function(){function t(t,e){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);o=!0);}catch(u){r=!0,a=u}finally{try{!o&&s["return"]&&s["return"]()}finally{if(r)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),f=n(2),p=o(f),d=n(3),h=o(d),y=n(4),g=o(y),m=n(5),b=n(8),v=n(6),w=n(9),x=o(w),D=n(11),S=o(D),E=function(e){function n(t){a(this,n);var e=i(this,Object.getPrototypeOf(n).call(this,t));return e.onDragStart=function(t,n){(0,S["default"])("Draggable: onDragStart: %j",n);var o=e.props.onStart(t,(0,b.createDraggableData)(e,n));return o!==!1&&void e.setState({dragging:!0,dragged:!0})},e.onDrag=function(t,n){if(!e.state.dragging)return!1;(0,S["default"])("Draggable: onDrag: %j",n);var o=(0,b.createDraggableData)(e,n),r={x:o.x,y:o.y};if(e.props.bounds){var a=r.x,i=r.y;r.x+=e.state.slackX,r.y+=e.state.slackY;var s=(0,b.getBoundPosition)(e,r.x,r.y),u=l(s,2);r.x=u[0],r.y=u[1],r.slackX=e.state.slackX+(a-r.x),r.slackY=e.state.slackY+(i-r.y),o.x=a,o.y=i,o.deltaX=r.x-e.state.x,o.deltaY=r.y-e.state.y}var c=e.props.onDrag(t,o);return c!==!1&&void e.setState(r)},e.onDragStop=function(t,n){if(!e.state.dragging)return!1;var o=e.props.onStop(t,(0,b.createDraggableData)(e,n));if(o===!1)return!1;(0,S["default"])("Draggable: onDragStop: %j",n);var r={dragging:!1,slackX:0,slackY:0},a=Boolean(e.props.position);if(a){var i=e.props.position,s=i.x,u=i.y;r.x=s,r.y=u}e.setState(r)},e.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},e}return s(n,e),c(n,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){"undefined"!=typeof t.SVGElement&&h["default"].findDOMNode(this)instanceof t.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(t){!t.position||this.props.position&&t.position.x===this.props.position.x&&t.position.y===this.props.position.y||this.setState({x:t.position.x,y:t.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var t,e={},n=null,o=Boolean(this.props.position),a=!o||this.state.dragging,i=this.props.position||this.props.defaultPosition,s={x:(0,b.canDragX)(this)&&a?this.state.x:i.x,y:(0,b.canDragY)(this)&&a?this.state.y:i.y};this.state.isElementSVG?n=(0,m.createSVGTransform)(s):e=(0,m.createCSSTransform)(s);var l=this.props,c=l.defaultClassName,f=l.defaultClassNameDragging,d=l.defaultClassNameDragged,h=(0,g["default"])(this.props.children.props.className||"",c,(t={},r(t,f,this.state.dragging),r(t,d,this.state.dragged),t));return p["default"].createElement(x["default"],u({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),p["default"].cloneElement(p["default"].Children.only(this.props.children),{className:h,style:u({},this.props.children.props.style,e),transform:n}))}}]),n}(p["default"].Component);E.displayName="Draggable",E.propTypes=u({},x["default"].propTypes,{axis:f.PropTypes.oneOf(["both","x","y","none"]),bounds:f.PropTypes.oneOfType([f.PropTypes.shape({left:f.PropTypes.number,right:f.PropTypes.number,top:f.PropTypes.number,bottom:f.PropTypes.number}),f.PropTypes.string,f.PropTypes.oneOf([!1])]),defaultClassName:f.PropTypes.string,defaultClassNameDragging:f.PropTypes.string,defaultClassNameDragged:f.PropTypes.string,defaultPosition:f.PropTypes.shape({x:f.PropTypes.number,y:f.PropTypes.number}),position:f.PropTypes.shape({x:f.PropTypes.number,y:f.PropTypes.number}),className:v.dontSetMe,style:v.dontSetMe,transform:v.dontSetMe}),E.defaultProps=u({},x["default"].defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null}),e["default"]=E}).call(e,function(){return this}())},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){var o,r;/*!
		  Copyright (c) 2016 Jed Watson.
		  Licensed under the MIT License (MIT), see
		  http://jedwatson.github.io/classnames
		*/
!function(){"use strict";function n(){for(var t=[],e=0;e<arguments.length;e++){var o=arguments[e];if(o){var r=typeof o;if("string"===r||"number"===r)t.push(o);else if(Array.isArray(o))t.push(n.apply(null,o));else if("object"===r)for(var i in o)a.call(o,i)&&o[i]&&t.push(i)}}return t.join(" ")}var a={}.hasOwnProperty;"undefined"!=typeof t&&t.exports?t.exports=n:(o=[],r=function(){return n}.apply(e,o),!(void 0!==r&&(t.exports=r)))}()},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){return T||(T=(0,D.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(e){return(0,D.isFunction)(t[e])})),t[T].call(t,e)}function i(t,e,n){var o=t;do{if(a(o,e))return!0;if(o===n)return!1;o=o.parentNode}while(o);return!1}function s(t,e,n){t&&(t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,!0):t["on"+e]=n)}function u(t,e,n){t&&(t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener?t.removeEventListener(e,n,!0):t["on"+e]=null)}function l(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,D["int"])(n.borderTopWidth),e+=(0,D["int"])(n.borderBottomWidth)}function c(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,D["int"])(n.borderLeftWidth),e+=(0,D["int"])(n.borderRightWidth)}function f(t){var e=t.clientHeight,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,D["int"])(n.paddingTop),e-=(0,D["int"])(n.paddingBottom)}function p(t){var e=t.clientWidth,n=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,D["int"])(n.paddingLeft),e-=(0,D["int"])(n.paddingRight)}function d(t,e){var n=e===e.ownerDocument.body,o=n?{left:0,top:0}:e.getBoundingClientRect(),r=t.clientX+e.scrollLeft-o.left,a=t.clientY+e.scrollTop-o.top;return{x:r,y:a}}function h(t){var e=t.x,n=t.y;return r({},(0,S.browserPrefixToKey)("transform",E["default"]),"translate("+e+"px,"+n+"px)")}function y(t){var e=t.x,n=t.y;return"translate("+e+","+n+")"}function g(t,e){return t.targetTouches&&(0,D.findInArray)(t.targetTouches,function(t){return e===t.identifier})||t.changedTouches&&(0,D.findInArray)(t.changedTouches,function(t){return e===t.identifier})}function m(t){return t.targetTouches&&t.targetTouches[0]?t.targetTouches[0].identifier:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0].identifier:void 0}function b(t){var e=t.getAttribute("style")||"";t.setAttribute("style",e+M)}function v(t){var e=t.getAttribute("style")||"";t.setAttribute("style",e.replace(M,""))}function w(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return x({touchAction:"none"},t)}Object.defineProperty(e,"__esModule",{value:!0});var x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};e.matchesSelector=a,e.matchesSelectorAndParentsTo=i,e.addEvent=s,e.removeEvent=u,e.outerHeight=l,e.outerWidth=c,e.innerHeight=f,e.innerWidth=p,e.offsetXYFromParent=d,e.createCSSTransform=h,e.createSVGTransform=y,e.getTouch=g,e.getTouchIdentifier=m,e.addUserSelectStyles=b,e.removeUserSelectStyles=v,e.styleHacks=w;var D=n(6),S=n(7),E=o(S),T="",_=(0,S.getPrefix)("user-select"),P=(0,S.browserPrefixToStyle)("user-select",_),M=";"+P+": none;"},function(t,e){"use strict";function n(t,e){for(var n=0,o=t.length;n<o;n++)if(e.apply(e,[t[n],n,t]))return t[n]}function o(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)}function r(t){return"number"==typeof t&&!isNaN(t)}function a(t){return parseInt(t,10)}function i(t,e,n){if(t[e])return new Error("Invalid prop "+e+" passed to "+n+" - do not set this, set it on the child.")}Object.defineProperty(e,"__esModule",{value:!0}),e.findInArray=n,e.isFunction=o,e.isNum=r,e["int"]=a,e.dontSetMe=i},function(t,e){"use strict";function n(){var t=arguments.length<=0||void 0===arguments[0]?"transform":arguments[0];if("undefined"==typeof window||"undefined"==typeof window.document)return"";var e=window.document.documentElement.style;if(t in e)return"";for(var n=0;n<i.length;n++)if(o(t,i[n])in e)return i[n];return""}function o(t,e){return e?""+e+a(t):t}function r(t,e){return e?"-"+e.toLowerCase()+"-"+t:t}function a(t){for(var e="",n=!0,o=0;o<t.length;o++)n?(e+=t[o].toUpperCase(),n=!1):"-"===t[o]?n=!0:e+=t[o];return e}Object.defineProperty(e,"__esModule",{value:!0}),e.getPrefix=n,e.browserPrefixToKey=o,e.browserPrefixToStyle=r;var i=["Moz","Webkit","O","ms"];e["default"]=n()},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,n){if(!t.props.bounds)return[e,n];var o=t.props.bounds;o="string"==typeof o?o:f(o);var r=h["default"].findDOMNode(t);if("string"==typeof o){var a=r.ownerDocument,i=a.defaultView,s=void 0;if("parent"===o)s=r.parentNode;else if(s=a.querySelector(o),!s)throw new Error('Bounds selector "'+o+'" could not find an element.');var u=i.getComputedStyle(r),l=i.getComputedStyle(s);o={left:-r.offsetLeft+(0,p["int"])(l.paddingLeft)+(0,p["int"])(u.borderLeftWidth)+(0,p["int"])(u.marginLeft),top:-r.offsetTop+(0,p["int"])(l.paddingTop)+(0,p["int"])(u.borderTopWidth)+(0,p["int"])(u.marginTop),right:(0,y.innerWidth)(s)-(0,y.outerWidth)(r)-r.offsetLeft,bottom:(0,y.innerHeight)(s)-(0,y.outerHeight)(r)-r.offsetTop}}return(0,p.isNum)(o.right)&&(e=Math.min(e,o.right)),(0,p.isNum)(o.bottom)&&(n=Math.min(n,o.bottom)),(0,p.isNum)(o.left)&&(e=Math.max(e,o.left)),(0,p.isNum)(o.top)&&(n=Math.max(n,o.top)),[e,n]}function a(t,e,n){var o=Math.round(e/t[0])*t[0],r=Math.round(n/t[1])*t[1];return[o,r]}function i(t){return"both"===t.props.axis||"x"===t.props.axis}function s(t){return"both"===t.props.axis||"y"===t.props.axis}function u(t,e,n){var o="number"==typeof e?(0,y.getTouch)(t,e):null;if("number"==typeof e&&!o)return null;var r=h["default"].findDOMNode(n),a=n.props.offsetParent||r.offsetParent||r.ownerDocument.body;return(0,y.offsetXYFromParent)(o||t,a)}function l(t,e,n){var o=t._pendingState||t.state,r=!(0,p.isNum)(o.lastX);return r?{node:h["default"].findDOMNode(t),deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:h["default"].findDOMNode(t),deltaX:e-o.lastX,deltaY:n-o.lastY,lastX:o.lastX,lastY:o.lastY,x:e,y:n}}function c(t,e){return{node:e.node,x:t.state.x+e.deltaX,y:t.state.y+e.deltaY,deltaX:e.deltaX,deltaY:e.deltaY,lastX:t.state.x,lastY:t.state.y}}function f(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}Object.defineProperty(e,"__esModule",{value:!0}),e.getBoundPosition=r,e.snapToGrid=a,e.canDragX=i,e.canDragY=s,e.getControlPosition=u,e.createCoreData=l,e.createDraggableData=c;var p=n(6),d=n(3),h=o(d),y=n(5)},function(t,e,n){(function(t){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var n=[],o=!0,r=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!e||n.length!==e);o=!0);}catch(u){r=!0,a=u}finally{try{!o&&s["return"]&&s["return"]()}finally{if(r)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),l=n(2),c=o(l),f=n(3),p=o(f),d=n(5),h=n(8),y=n(6),g=n(11),m=o(g),b={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},v=b.mouse,w=function(t){function e(){var t,n,o,i;r(this,e);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return n=o=a(this,(t=Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},o.handleDragStart=function(t){if(o.props.onMouseDown(t),!o.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var e=p["default"].findDOMNode(o),n=e.ownerDocument;if(!(o.props.disabled||!(t.target instanceof n.defaultView.Node)||o.props.handle&&!(0,d.matchesSelectorAndParentsTo)(t.target,o.props.handle,e)||o.props.cancel&&(0,d.matchesSelectorAndParentsTo)(t.target,o.props.cancel,e))){var r=(0,d.getTouchIdentifier)(t);o.setState({touchIdentifier:r});var a=(0,h.getControlPosition)(t,r,o);if(null!=a){var i=a.x,s=a.y,u=(0,h.createCoreData)(o,i,s);(0,m["default"])("DraggableCore: handleDragStart: %j",u),(0,m["default"])("calling",o.props.onStart);var l=o.props.onStart(t,u);l!==!1&&(o.props.enableUserSelectHack&&(0,d.addUserSelectStyles)(n.body),o.setState({dragging:!0,lastX:i,lastY:s}),(0,d.addEvent)(n,v.move,o.handleDrag),(0,d.addEvent)(n,v.stop,o.handleDragStop))}}},o.handleDrag=function(t){var e=(0,h.getControlPosition)(t,o.state.touchIdentifier,o);if(null!=e){var n=e.x,r=e.y;if(Array.isArray(o.props.grid)){var a=n-o.state.lastX,i=r-o.state.lastY,u=(0,h.snapToGrid)(o.props.grid,a,i),l=s(u,2);if(a=l[0],i=l[1],!a&&!i)return;n=o.state.lastX+a,r=o.state.lastY+i}var c=(0,h.createCoreData)(o,n,r);(0,m["default"])("DraggableCore: handleDrag: %j",c);var f=o.props.onDrag(t,c);if(f!==!1)o.setState({lastX:n,lastY:r});else try{o.handleDragStop(new MouseEvent("mouseup"))}catch(p){var d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),o.handleDragStop(d)}}},o.handleDragStop=function(t){if(o.state.dragging){var e=(0,h.getControlPosition)(t,o.state.touchIdentifier,o);if(null!=e){var n=e.x,r=e.y,a=(0,h.createCoreData)(o,n,r);o.props.enableUserSelectHack&&(0,d.removeUserSelectStyles)(p["default"].findDOMNode(o).ownerDocument.body),(0,m["default"])("DraggableCore: handleDragStop: %j",a),o.setState({dragging:!1,lastX:NaN,lastY:NaN}),o.props.onStop(t,a);var i=p["default"].findDOMNode(o),s=i.ownerDocument;(0,m["default"])("DraggableCore: Removing handlers"),(0,d.removeEvent)(s,v.move,o.handleDrag),(0,d.removeEvent)(s,v.stop,o.handleDragStop)}}},o.onMouseDown=function(t){return v=b.mouse,o.handleDragStart(t)},o.onMouseUp=function(t){return v=b.mouse,o.handleDragStop(t)},o.onTouchStart=function(t){return v=b.touch,o.handleDragStart(t)},o.onTouchEnd=function(t){return v=b.touch,o.handleDragStop(t)},i=n,a(o,i)}return i(e,t),u(e,[{key:"componentWillUnmount",value:function(){var t=p["default"].findDOMNode(this),e=t.ownerDocument;(0,d.removeEvent)(e,b.mouse.move,this.handleDrag),(0,d.removeEvent)(e,b.touch.move,this.handleDrag),(0,d.removeEvent)(e,b.mouse.stop,this.handleDragStop),(0,d.removeEvent)(e,b.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&(0,d.removeUserSelectStyles)(e.body)}},{key:"render",value:function(){return c["default"].cloneElement(c["default"].Children.only(this.props.children),{style:(0,d.styleHacks)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),e}(c["default"].Component);w.displayName="DraggableCore",w.propTypes={allowAnyClick:l.PropTypes.bool,disabled:l.PropTypes.bool,enableUserSelectHack:l.PropTypes.bool,offsetParent:function(e,n){if(t.browser&&e[n]&&1!==e[n].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:l.PropTypes.arrayOf(l.PropTypes.number),handle:l.PropTypes.string,cancel:l.PropTypes.string,onStart:l.PropTypes.func,onDrag:l.PropTypes.func,onStop:l.PropTypes.func,onMouseDown:l.PropTypes.func,className:y.dontSetMe,style:y.dontSetMe,transform:y.dontSetMe},w.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},e["default"]=w}).call(e,n(10))},function(t,e){function n(){f&&l&&(f=!1,l.length?c=l.concat(c):p=-1,c.length&&o())}function o(){if(!f){var t=i(n);f=!0;for(var e=c.length;e;){for(l=c,c=[];++p<e;)l&&l[p].run();p=-1,e=c.length}l=null,f=!1,s(t)}}function r(t,e){this.fun=t,this.array=e}function a(){}var i,s,u=t.exports={};!function(){try{i=setTimeout}catch(t){i=function(){throw new Error("setTimeout is not defined")}}try{s=clearTimeout}catch(t){s=function(){throw new Error("clearTimeout is not defined")}}}();var l,c=[],f=!1,p=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new r(t,e)),1!==c.length||f||i(o,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,e,n){"use strict";function o(){}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o}])})},function(t,n){t.exports=e}])});
//# sourceMappingURL=yonobi-diagram.min.js.map